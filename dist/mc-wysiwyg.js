!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).McWysiwyg={})}(this,(function(t){"use strict";function e(t,e,n,i,o,s,l,r,a,c){"boolean"!=typeof l&&(a=r,r=l,l=!1);const d="function"==typeof n?n.options:n;let u;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,o&&(d.functional=!0)),i&&(d._scopeId=i),s?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,a(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},d._ssrRegister=u):e&&(u=l?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,r(t))}),u)if(d.functional){const t=d.render;d.render=function(e,n){return u.call(n),t(e,n)}}else{const t=d.beforeCreate;d.beforeCreate=t?[].concat(t,u):[u]}return n}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".material-design-icon {\n  display: inline-flex;\n  align-self: center;\n  position: relative;\n  height: 1em;\n  width: 1em;\n}\n.material-design-icon > .material-design-icon__svg {\n  height: 1em;\n  width: 1em;\n  fill: currentColor;\n  position: absolute;\n  bottom: -0.125em;\n}\n");const n={name:"FormatAlignCenterIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({staticClass:"material-design-icon format-align-center-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[n("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M3,3H21V5H3V3M7,7H17V9H7V7M3,11H21V13H3V11M7,15H17V17H7V15M3,19H21V21H3V19Z"}},[t.title?n("title",[t._v(t._s(t.title))]):t._e()])])])};i._withStripped=!0;const o=e({render:i,staticRenderFns:[]},void 0,n,void 0,!1,void 0,!1,void 0,void 0,void 0);const s={name:"FormatAlignLeftIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({staticClass:"material-design-icon format-align-left-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[n("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M3,3H21V5H3V3M3,7H15V9H3V7M3,11H21V13H3V11M3,15H15V17H3V15M3,19H21V21H3V19Z"}},[t.title?n("title",[t._v(t._s(t.title))]):t._e()])])])};l._withStripped=!0;const r=e({render:l,staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0);const a={name:"FormatAlignRightIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({staticClass:"material-design-icon format-align-right-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[n("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M3,3H21V5H3V3M9,7H21V9H9V7M3,11H21V13H3V11M9,15H21V17H9V15M3,19H21V21H3V19Z"}},[t.title?n("title",[t._v(t._s(t.title))]):t._e()])])])};c._withStripped=!0;const d=e({render:c,staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0);const u={name:"FormatBoldIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({staticClass:"material-design-icon format-bold-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[n("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z"}},[t.title?n("title",[t._v(t._s(t.title))]):t._e()])])])};h._withStripped=!0;const g=e({render:h,staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);const m={name:"FormatHeader1Icon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({staticClass:"material-design-icon format-header1-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[n("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M14,18V16H16V6.31L13.5,7.75V5.44L16,4H18V16H20V18H14Z"}},[t.title?n("title",[t._v(t._s(t.title))]):t._e()])])])};v._withStripped=!0;const p=e({render:v,staticRenderFns:[]},void 0,m,void 0,!1,void 0,!1,void 0,void 0,void 0);const f={name:"FormatIndentDecreaseIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({staticClass:"material-design-icon format-indent-decrease-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[n("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M11,13H21V11H11M11,9H21V7H11M3,3V5H21V3M3,21H21V19H3M3,12L7,16V8M11,17H21V15H11V17Z"}},[t.title?n("title",[t._v(t._s(t.title))]):t._e()])])])};b._withStripped=!0;const A=e({render:b,staticRenderFns:[]},void 0,f,void 0,!1,void 0,!1,void 0,void 0,void 0);const y={name:"FormatIndentIncreaseIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({staticClass:"material-design-icon format-indent-increase-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[n("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M11,13H21V11H11M11,9H21V7H11M3,3V5H21V3M11,17H21V15H11M3,8V16L7,12M3,21H21V19H3V21Z"}},[t.title?n("title",[t._v(t._s(t.title))]):t._e()])])])};w._withStripped=!0;const C=e({render:w,staticRenderFns:[]},void 0,y,void 0,!1,void 0,!1,void 0,void 0,void 0);const _={name:"FormatItalicIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({staticClass:"material-design-icon format-italic-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[n("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z"}},[t.title?n("title",[t._v(t._s(t.title))]):t._e()])])])};k._withStripped=!0;const H=e({render:k,staticRenderFns:[]},void 0,_,void 0,!1,void 0,!1,void 0,void 0,void 0);const x={name:"FormatListBulletedIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({staticClass:"material-design-icon format-list-bulleted-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[n("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z"}},[t.title?n("title",[t._v(t._s(t.title))]):t._e()])])])};V._withStripped=!0;const L=e({render:V,staticRenderFns:[]},void 0,x,void 0,!1,void 0,!1,void 0,void 0,void 0);const S={name:"FormatListNumberedIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({staticClass:"material-design-icon format-list-numbered-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[n("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z"}},[t.title?n("title",[t._v(t._s(t.title))]):t._e()])])])};F._withStripped=!0;const T=e({render:F,staticRenderFns:[]},void 0,S,void 0,!1,void 0,!1,void 0,void 0,void 0);const I={name:"FormatStrikethroughIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({staticClass:"material-design-icon format-strikethrough-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[n("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M3,14H21V12H3M5,4V7H10V10H14V7H19V4M10,19H14V16H10V19Z"}},[t.title?n("title",[t._v(t._s(t.title))]):t._e()])])])};M._withStripped=!0;const B=e({render:M,staticRenderFns:[]},void 0,I,void 0,!1,void 0,!1,void 0,void 0,void 0);const R={name:"FormatUnderlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({staticClass:"material-design-icon format-underline-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[n("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M5,21H19V19H5V21M12,17A6,6 0 0,0 18,11V3H15.5V11A3.5,3.5 0 0,1 12,14.5A3.5,3.5 0 0,1 8.5,11V3H6V11A6,6 0 0,0 12,17Z"}},[t.title?n("title",[t._v(t._s(t.title))]):t._e()])])])};E._withStripped=!0;const z=e({render:E,staticRenderFns:[]},void 0,R,void 0,!1,void 0,!1,void 0,void 0,void 0);const $={name:"TableLargeIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({staticClass:"material-design-icon table-large-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[n("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M4,3H20A2,2 0 0,1 22,5V20A2,2 0 0,1 20,22H4A2,2 0 0,1 2,20V5A2,2 0 0,1 4,3M4,7V10H8V7H4M10,7V10H14V7H10M20,10V7H16V10H20M4,12V15H8V12H4M4,20H8V17H4V20M10,12V15H14V12H10M10,20H14V17H10V20M20,20V17H16V20H20M20,12H16V15H20V12Z"}},[t.title?n("title",[t._v(t._s(t.title))]):t._e()])])])};U._withStripped=!0;var N={components:{FormatAlignCenter:o,FormatAlignLeft:r,FormatAlignRight:d,FormatBold:g,FormatHeader1:p,FormatIndentDecrease:A,FormatIndentIncrease:C,FormatItalic:H,FormatListBulleted:L,FormatListNumbered:T,FormatStrikethrough:B,FormatUnderline:z,TableLarge:e({render:U,staticRenderFns:[]},void 0,$,void 0,!1,void 0,!1,void 0,void 0,void 0)},props:{value:{type:String},hide:{type:Object,default:function(){return{}}},height:{type:[Number,String],default:400}},data:function(){return{isBold:!1,isItalic:!1,isUnderlined:!1,isStrikedThrough:!1,isHeading:!1,isAlignedLeft:!1,isAlignedCenter:!1,isAlignedRight:!1,showToolbarOptions:!1,showHeadingOptions:!1,showLinkForm:!1,linkText:"",linkURL:"",showTableForm:!1,rows:null,cols:null,selectedCell:{rows:0,cols:0},caratSelection:null,savedPosition:null}},computed:{hSizes:function(){for(var t=[],e=1;6>=e;e++)t.push("H".concat(e));return t.push("Clear"),t},noSelectedCell:function(){return 0===this.selectedCell.rows&&0===this.selectedCell.cols}},watch:{value:{handler:function(t){var e=this;t&&setTimeout((function(){document.getElementById("editor"+e._uid).innerHTML||(document.getElementById("editor"+e._uid).innerHTML=t)}),100)},immediate:!0}},methods:{bold:function(){this.isBold=!this.isBold,this.exec("bold")},italize:function(){this.isItalic=!this.isItalic,this.exec("italic")},underline:function(){this.isUnderlined=!this.isUnderlined,this.exec("underline")},strikeThrough:function(){this.isStrikedThrough=!this.isStrikedThrough,this.exec("strikeThrough")},heading:function(t){this.exec("formatBlock",!1,"Clear"===t?"p":t)},showHeadings:function(){this.isHeading=!this.isHeading,this.showHeadingOptions=!this.showHeadingOptions},alignLeft:function(){this.isAlignedLeft=!this.isAlignedLeft,this.exec("justifyLeft")},alignCenter:function(){this.isAlignedCenter=!this.isAlignedCenter,this.exec("justifyCenter")},alignRight:function(){this.isAlignedRight=!this.isAlignedRight,this.exec("justifyRight")},showLinkOptions:function(){this.showLinkForm=!this.showLinkForm},createLink:function(){var t=document.getSelection();t.anchorOffset===t.extentOffset&&(t=this.linkText),this.exec("insertHTML",!1,"<a href='".concat(this.linkURL,"'>").concat(t,"</a>"))},orderedList:function(){this.exec("insertOrderedList")},insertUnorderedList:function(){this.exec("insertUnorderedList")},showTableOptions:function(){this.showTableForm||(this.caratSelection=document.getSelection(),this.savedPosition=[this.caratSelection.focusNode,this.caratSelection.focusOffset]),this.showTableForm=!this.showTableForm},generateTable:function(t,e){for(var n="",i=1;i<=t;i++){n+="<tr>";for(var o=1;o<=e;o++)n+='<td style="border: 1px solid lightgrey; padding: 2px;"></td>';n+="</tr>"}return n},setupCreateTable:function(){this.rows=this.selectedCell.rows,this.cols=this.selectedCell.cols,this.createTable()},createTable:function(){document.getElementById("editor"+this._uid).focus(),this.caratSelection.collapse(this.savedPosition[0],this.savedPosition[1]);var t='\n        <table width="100%" style="border-collapse: collapse; border: 1px solid lightgrey;">\n          <tbody>\n            '.concat(this.generateTable(this.rows,this.cols),"\n          </tbody>\n        </table>\n      ");this.exec("insertHTML",!1,t),this.showTableForm=!1,this.caratSelection=null,this.savedPosition=null},indent:function(){this.exec("indent")},outdent:function(){this.exec("outdent")},changeSelectedCell:function(t,e){this.selectedCell.rows=t,this.selectedCell.cols=e},isHighlighted:function(t,e){return!this.noSelectedCell&&!!(t<=this.selectedCell.rows&&e<=this.selectedCell.cols)},exec:function(){var t;(t=document).execCommand.apply(t,arguments)},getValue:function(){this.$emit("input",document.getElementById("editor"+this._uid).innerHTML)}},mounted:function(){var t=this,e=this;this.$nextTick((function(){document.getElementById("editor"+t._uid).addEventListener("input",(function(){e.getValue()}),!1)}))}};const O="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function D(t){return(t,e)=>function(t,e){const n=O?e.media||"default":t,i=j[n]||(j[n]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);let n=e.source;if(e.map&&(n+="\n/*# sourceURL="+e.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",e.media&&i.element.setAttribute("media",e.media),void 0===P&&(P=document.head||document.getElementsByTagName("head")[0]),P.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(n),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{const t=i.ids.size-1,e=document.createTextNode(n),o=i.element.childNodes;o[t]&&i.element.removeChild(o[t]),o.length?i.element.insertBefore(e,o[t]):i.element.appendChild(e)}}}(t,e)}let P;const j={};const Z=N;var q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"container"}},[n("div",{attrs:{id:"toolbar"}},[n("div",{staticClass:"toolbar-section"},[t.hide.bold?t._e():n("button",{staticClass:"wysiwyg-button",class:t.isBold?"wysiwyg-button-active":"",on:{click:function(e){return e.preventDefault(),t.bold.apply(null,arguments)}}},[n("format-bold")],1),t._v(" "),t.hide.italic?t._e():n("button",{staticClass:"wysiwyg-button",class:t.isItalic?"wysiwyg-button-active":"",on:{click:function(e){return e.preventDefault(),t.italize.apply(null,arguments)}}},[n("format-italic")],1),t._v(" "),t.hide.underline?t._e():n("button",{staticClass:"wysiwyg-button",class:t.isUnderlined?"wysiwyg-button-active":"",on:{click:function(e){return e.preventDefault(),t.underline.apply(null,arguments)}}},[n("format-underline")],1),t._v(" "),t.hide.strikethrough?t._e():n("button",{staticClass:"wysiwyg-button",class:t.isStrikedThrough?"wysiwyg-button-active":"",on:{click:function(e){return e.preventDefault(),t.strikeThrough.apply(null,arguments)}}},[n("format-strikethrough")],1),t._v(" "),t.hide.heading?t._e():n("button",{staticClass:"wysiwyg-button",class:t.isHeading?"wysiwyg-button-active":"",on:{click:function(e){return e.preventDefault(),t.showHeadings.apply(null,arguments)}}},[n("format-header-1")],1)]),t._v(" "),n("div",{staticClass:"toolbar-section"},[t.hide.alignLeft?t._e():n("button",{staticClass:"wysiwyg-button",class:t.isAlignedLeft?"wysiwyg-button-active":"",on:{click:function(e){return e.preventDefault(),t.alignLeft.apply(null,arguments)}}},[n("format-align-left")],1),t._v(" "),t.hide.alignCenter?t._e():n("button",{staticClass:"wysiwyg-button",class:t.isAlignedCenter?"wysiwyg-button-active":"",on:{click:function(e){return e.preventDefault(),t.alignCenter.apply(null,arguments)}}},[n("format-align-center")],1),t._v(" "),t.hide.alignRight?t._e():n("button",{staticClass:"wysiwyg-button",class:t.isAlignedRight?"wysiwyg-button-active":"",on:{click:function(e){return e.preventDefault(),t.alignRight.apply(null,arguments)}}},[n("format-align-right")],1),t._v(" "),t.hide.ol?t._e():n("button",{staticClass:"wysiwyg-button",on:{click:function(e){return e.preventDefault(),t.orderedList.apply(null,arguments)}}},[n("format-list-numbered")],1),t._v(" "),t.hide.ul?t._e():n("button",{staticClass:"wysiwyg-button",on:{click:function(e){return e.preventDefault(),t.insertUnorderedList.apply(null,arguments)}}},[n("format-list-bulleted")],1)]),t._v(" "),n("div",{staticClass:"toolbar-section"},[t.hide.url?t._e():n("button",{staticClass:"wysiwyg-button",class:t.showLinkForm?"wysiwyg-button-active":"",on:{click:function(e){return e.preventDefault(),t.showLinkOptions.apply(null,arguments)}}},[n("b",{staticStyle:{"font-size":"10px"}},[t._v("URL")])]),t._v(" "),t.hide.table?t._e():n("button",{staticClass:"wysiwyg-button",class:t.showTableForm?"wysiwyg-button-active":"",on:{click:function(e){return e.preventDefault(),t.showTableOptions.apply(null,arguments)}}},[n("table-large")],1),t._v(" "),t.hide.indent?t._e():n("button",{staticClass:"wysiwyg-button",on:{click:function(e){return e.preventDefault(),t.indent.apply(null,arguments)}}},[n("format-indent-increase")],1),t._v(" "),t.hide.outdent?t._e():n("button",{staticClass:"wysiwyg-button",on:{click:function(e){return e.preventDefault(),t.outdent.apply(null,arguments)}}},[n("format-indent-decrease")],1)])]),t._v(" "),t.showHeadingOptions?n("div",{attrs:{id:"toolbar-options"}},t._l(t.hSizes,(function(e){return n("button",{key:e,staticClass:"wysiwyg-button wysiwyg-button-loop",on:{click:function(n){return n.preventDefault(),t.heading(e)}}},[t._v(t._s(e))])})),0):t._e(),t._v(" "),t.showLinkForm?n("div",{attrs:{id:"toolbar-options"}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.createLink.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.linkText,expression:"linkText"}],attrs:{type:"text",placeholder:"Link Text",required:""},domProps:{value:t.linkText},on:{input:function(e){e.target.composing||(t.linkText=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.linkURL,expression:"linkURL"}],attrs:{type:"text",placeholder:"URL",required:""},domProps:{value:t.linkURL},on:{input:function(e){e.target.composing||(t.linkURL=e.target.value)}}}),t._v(" "),n("button",{staticClass:"wysiwyg-button",attrs:{type:"submit"}},[t._v("Insert")]),t._v(" "),n("button",{staticClass:"wysiwyg-button",on:{click:function(e){e.preventDefault(),t.linkText="",t.linkURL=""}}},[t._v("Clear")])])]):t._e(),t._v(" "),t.showTableForm?n("div",{attrs:{id:"toolbar-options"}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.createTable.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.rows,expression:"rows"}],attrs:{min:"0",type:"number",placeholder:"Rows",required:""},domProps:{value:t.rows},on:{input:function(e){e.target.composing||(t.rows=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.cols,expression:"cols"}],attrs:{min:"0",type:"number",placeholder:"Columns",required:""},domProps:{value:t.cols},on:{input:function(e){e.target.composing||(t.cols=e.target.value)}}}),t._v(" "),n("button",{staticClass:"wysiwyg-button",attrs:{type:"submit"}},[t._v("Insert")]),t._v(" "),n("button",{staticClass:"wysiwyg-button",on:{click:function(e){e.preventDefault(),t.rows=null,t.cols=null}}},[t._v("Clear")])]),t._v(" "),n("div",{staticClass:"hoverTableCont"},[n("div",{staticClass:"hoverTable",on:{mouseleave:function(e){return t.changeSelectedCell(0,0)}}},t._l(12,(function(e,i){return n("div",{key:i,staticClass:"hoverRow"},t._l(12,(function(i,o){return n("div",{key:o,class:["hoverCell",{highlightCell:t.isHighlighted(e,i)}],on:{mouseover:function(n){return t.changeSelectedCell(e,i)},click:t.setupCreateTable}})})),0)})),0),t._v(" "),n("br"),t._v(" "),n("div",{attrs:{id:"tableDimmensions"}},[t.noSelectedCell?n("em",[t._v("Select boxes above")]):n("em",[t._v(t._s(this.selectedCell.cols)+" x "+t._s(this.selectedCell.rows))])])])]):t._e(),t._v(" "),n("div",{style:{height:t.height+"px"},attrs:{id:"body"}},[n("div",{style:{"min-height":t.height+"px"},attrs:{id:"editor"+t._uid,contenteditable:""}})])])])};q._withStripped=!0;const W=e({render:q,staticRenderFns:[]},(function(t){t&&t("data-v-402bb5ca_0",{source:"\ninput[data-v-402bb5ca] {\n  margin: 4px;\n  padding: 2px;\n  border: 1px solid lightgrey;\n}\ninput[data-v-402bb5ca]:focus {\n  outline: none;\n}\n#container[data-v-402bb5ca] {\n  border: 1px solid lightgrey;\n}\n#body[data-v-402bb5ca] {\n  overflow: auto;\n  display: inline-block;\n  width: 100%\n}\n#editor[data-v-402bb5ca] {\n  padding: 10px;\n}\n#toolbar[data-v-402bb5ca] {\n    border-bottom: 1px solid lightgrey;\n    background-color: #ebeef5;\n    display: flex;\n    justify-content: start;\n    padding: 0 0.6rem;\n    gap: 0.6rem;\n}\n#toolbar-options[data-v-402bb5ca] {\n  min-height: 29px;\n  border-bottom: 1px solid lightgrey;\n  overflow: hidden;\n}\n#editor[data-v-402bb5ca]:focus {\n  outline: none;\n}\n.toolbar-section[data-v-402bb5ca] {\n}\n.wysiwyg-button[data-v-402bb5ca] {\n    height: 1.618rem;\n    width: 1.618rem;\n    background-color: transparent;\n    text-align: center;\n    padding: 2px;\n    border: 0;\n    cursor: pointer;\n    transition: .5s;\n}\n.wysiwyg-button[data-v-402bb5ca]:hover {\n    border-radius: 3px;\n    box-shadow: inset 0 0 0 .82rem #dcdfe6;\n}\n\n/* .wysiwyg-button-active {\n  background-color: lightblue;\n} */\n.wysiwyg-button-loop[data-v-402bb5ca] {\n  margin-right: 4px;\n}\n.hoverTableCont[data-v-402bb5ca] {\n    width: 230px;\n    margin-right: 30px;\n    float: left;\n    padding: 15px 0px 0px 15px;\n}\n.hoverCell[data-v-402bb5ca] {\n  border: 1px solid #aaa;\n\theight: 16px;\n\twidth: 16px;\n\tmargin: 0 1px 1px 0;\n\tfloat: left;\n\tcursor: pointer;\n}\n.hoverCell[data-v-402bb5ca]:hover {\n\tbackground-color: #4b67a1 !important;\n}\n.hoverRow[data-v-402bb5ca] {\n    display: block;\n    clear: both;\n}\n.highlightCell[data-v-402bb5ca] {\n  background-color: #d1e0ff;\n}\n",map:{version:3,sources:["/Users/moisesmarquez/Desarrollo/vue-wysiwyg/src/McWysiwyg.vue"],names:[],mappings:";AAgUA;EACA,WAAA;EACA,YAAA;EACA,2BAAA;AACA;AAEA;EACA,aAAA;AACA;AAEA;EACA,2BAAA;AACA;AAEA;EACA,cAAA;EACA,qBAAA;EACA;AACA;AAEA;EACA,aAAA;AACA;AAEA;IACA,kCAAA;IACA,yBAAA;IACA,aAAA;IACA,sBAAA;IACA,iBAAA;IACA,WAAA;AACA;AAEA;EACA,gBAAA;EACA,kCAAA;EACA,gBAAA;AACA;AAEA;EACA,aAAA;AACA;AAEA;AACA;AAEA;IACA,gBAAA;IACA,eAAA;IACA,6BAAA;IACA,kBAAA;IACA,YAAA;IACA,SAAA;IACA,eAAA;IACA,eAAA;AACA;AAEA;IACA,kBAAA;IACA,sCAAA;AACA;;AAEA;;GAEA;AAEA;EACA,iBAAA;AACA;AACA;IACA,YAAA;IACA,kBAAA;IACA,WAAA;IACA,0BAAA;AACA;AACA;EACA,sBAAA;CACA,YAAA;CACA,WAAA;CACA,mBAAA;CACA,WAAA;CACA,eAAA;AACA;AACA;CACA,oCAAA;AACA;AACA;IACA,cAAA;IACA,WAAA;AACA;AACA;EACA,yBAAA;AACA",file:"McWysiwyg.vue",sourcesContent:['<template>\n  <div>\n    <div id="container">\n      <div id="toolbar">\n        <div class="toolbar-section">\n          <button v-if="!hide.bold" class="wysiwyg-button" :class="isBold ? \'wysiwyg-button-active\' : \'\'" @click.prevent="bold">\n            <format-bold></format-bold>\n          </button>\n          <button v-if="!hide.italic" class="wysiwyg-button" :class="isItalic ? \'wysiwyg-button-active\' : \'\'" @click.prevent="italize">\n            <format-italic></format-italic>\n          </button>\n          <button v-if="!hide.underline" class="wysiwyg-button" :class="isUnderlined ? \'wysiwyg-button-active\' : \'\'" @click.prevent="underline">\n            <format-underline></format-underline>\n          </button>\n          <button v-if="!hide.strikethrough" class="wysiwyg-button" :class="isStrikedThrough ? \'wysiwyg-button-active\' : \'\'" @click.prevent="strikeThrough">\n            <format-strikethrough></format-strikethrough>\n          </button>\n          <button v-if="!hide.heading" class="wysiwyg-button" :class="isHeading ? \'wysiwyg-button-active\' : \'\'" @click.prevent="showHeadings">\n            <format-header-1></format-header-1>\n          </button>\n        </div>\n        <div class="toolbar-section">\n          <button v-if="!hide.alignLeft" class="wysiwyg-button" :class="isAlignedLeft ? \'wysiwyg-button-active\' : \'\'" @click.prevent="alignLeft">\n            <format-align-left></format-align-left>\n          </button>\n          <button v-if="!hide.alignCenter" class="wysiwyg-button" :class="isAlignedCenter ? \'wysiwyg-button-active\' : \'\'" @click.prevent="alignCenter">\n            <format-align-center></format-align-center>\n          </button>\n          <button v-if="!hide.alignRight" class="wysiwyg-button" :class="isAlignedRight ? \'wysiwyg-button-active\' : \'\'" @click.prevent="alignRight">\n            <format-align-right></format-align-right>\n          </button>\n          <button v-if="!hide.ol" class="wysiwyg-button" @click.prevent="orderedList">\n            <format-list-numbered></format-list-numbered>\n          </button>\n          <button v-if="!hide.ul" class="wysiwyg-button" @click.prevent="insertUnorderedList">\n            <format-list-bulleted></format-list-bulleted>\n          </button>\n        </div>\n        <div class="toolbar-section">\n          <button v-if="!hide.url" class="wysiwyg-button" :class="showLinkForm ? \'wysiwyg-button-active\' : \'\'" @click.prevent="showLinkOptions">\n            <b style="font-size: 10px;">URL</b>\n          </button>\n          <button v-if="!hide.table" class="wysiwyg-button" :class="showTableForm ? \'wysiwyg-button-active\' : \'\'" @click.prevent="showTableOptions">\n            <table-large></table-large>\n          </button>\n          <button v-if="!hide.indent" class="wysiwyg-button" @click.prevent="indent">\n            <format-indent-increase></format-indent-increase>\n          </button>\n          <button v-if="!hide.outdent" class="wysiwyg-button" @click.prevent="outdent">\n            <format-indent-decrease></format-indent-decrease>\n          </button>\n        </div>\n      </div>\n      \x3c!-- OPTIONS --\x3e\n      <div v-if="showHeadingOptions" id="toolbar-options">\n        <button class="wysiwyg-button wysiwyg-button-loop" v-for="size in hSizes" :key="size" @click.prevent="heading(size)">{{size}}</button>\n      </div>\n      <div v-if="showLinkForm" id="toolbar-options">\n        <form @submit.prevent="createLink">\n          <input v-model="linkText" type="text" placeholder="Link Text" required/>\n          <input v-model="linkURL" type="text" placeholder="URL" required/>\n          <button type="submit" class="wysiwyg-button">Insert</button>\n          <button @click.prevent="linkText = \'\'; linkURL = \'\'" class="wysiwyg-button">Clear</button>\n        </form>\n      </div>\n      <div v-if="showTableForm" id="toolbar-options">\n        <form @submit.prevent="createTable">\n          <input v-model="rows" min="0" type="number" placeholder="Rows" required/>\n          <input v-model="cols" min="0" type="number" placeholder="Columns" required/>\n          <button type="submit" class="wysiwyg-button">Insert</button>\n          <button @click.prevent="rows = null; cols = null" class="wysiwyg-button">Clear</button>\n        </form>\n        <div class="hoverTableCont">\n          <div class="hoverTable" @mouseleave="changeSelectedCell(0, 0)">\n            <div class="hoverRow" v-for="(row, key) in 12" :key="key">\n              <div\n                v-for="(col, key) in 12" \n                :class="[\'hoverCell\', { \'highlightCell\': isHighlighted(row, col)}]" \n                @mouseover="changeSelectedCell(row, col)" \n                @click="setupCreateTable"\n                :key="key"\n              ></div>\n            </div>\n          </div>\n          <br>\n          <div id="tableDimmensions">\n            <em v-if="noSelectedCell">Select boxes above</em>\n            <em v-else>{{ this.selectedCell.cols }} x {{ this.selectedCell.rows }}</em>\n          </div>\n        </div>\n      </div>\n      <div id="body" :style="{\'height\': `${height}px`}">\n        <div :id="\'editor\' + _uid" contenteditable :style="{\'min-height\': `${height}px`}"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport \'vue-material-design-icons/styles.css\';\nimport FormatAlignCenter from \'vue-material-design-icons/FormatAlignCenter.vue\';\nimport FormatAlignLeft from \'vue-material-design-icons/FormatAlignLeft.vue\';\nimport FormatAlignRight from \'vue-material-design-icons/FormatAlignRight.vue\';\nimport FormatBold from \'vue-material-design-icons/FormatBold.vue\';\nimport FormatHeader1 from \'vue-material-design-icons/FormatHeader1.vue\';\nimport FormatIndentDecrease from \'vue-material-design-icons/FormatIndentDecrease.vue\';\nimport FormatIndentIncrease from \'vue-material-design-icons/FormatIndentIncrease.vue\';\nimport FormatItalic from \'vue-material-design-icons/FormatItalic.vue\';\nimport FormatListBulleted from \'vue-material-design-icons/FormatListBulleted.vue\';\nimport FormatListNumbered from \'vue-material-design-icons/FormatListNumbered.vue\';\nimport FormatStrikethrough from \'vue-material-design-icons/FormatStrikethrough.vue\';\nimport FormatUnderline from \'vue-material-design-icons/FormatUnderline.vue\';\nimport TableLarge from \'vue-material-design-icons/TableLarge.vue\';\n\nexport default {\n  components: {\n    FormatAlignCenter,\n    FormatAlignLeft,\n    FormatAlignRight,\n    FormatBold,\n    FormatHeader1,\n    FormatIndentDecrease,\n    FormatIndentIncrease,\n    FormatItalic,\n    FormatListBulleted,\n    FormatListNumbered,\n    FormatStrikethrough,\n    FormatUnderline,\n    TableLarge\n  },\n  props: {\n    value: {\n      type: String\n    },\n    hide: {\n      type: Object,\n      default: () => ({})\n    },\n    height: {\n      type: [Number, String],\n      default: 400\n    }\n  },\n  data () {\n    return {\n      isBold: false,\n      isItalic: false,\n      isUnderlined: false,\n      isStrikedThrough: false,\n      isHeading: false,\n      isAlignedLeft: false,\n      isAlignedCenter: false,\n      isAlignedRight: false,\n      showToolbarOptions: false,\n      showHeadingOptions: false,\n      showLinkForm: false,\n      linkText: \'\',\n      linkURL: \'\',\n      showTableForm: false,\n      rows: null,\n      cols: null,\n      selectedCell: {\n        rows: 0,\n        cols: 0\n      },\n      caratSelection: null,\n      savedPosition: null,\n    };\n  },\n  computed: {\n    hSizes () {\n      let sizes = [];\n      for(let x = 1; x <= 6; x++) {\n        sizes.push(`H${x}`);\n      }\n      sizes.push(\'Clear\');\n      return sizes;\n    },\n    noSelectedCell () {\n      return this.selectedCell.rows === 0 && this.selectedCell.cols === 0;\n    },\n  },\n  watch: {\n    value: {\n      handler (val) {\n        if (val) {\n          setTimeout(() => {\n            if (!document.getElementById(\'editor\' + this._uid).innerHTML) {\n              document.getElementById(\'editor\' + this._uid).innerHTML = val;\n            }\n          }, 100);\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    bold () {\n      this.isBold = !this.isBold;\n      this.exec(\'bold\');\n    },\n    italize () {\n      this.isItalic = !this.isItalic;\n      this.exec(\'italic\');\n    },\n    underline () {\n      this.isUnderlined = !this.isUnderlined;\n      this.exec(\'underline\');\n    },\n    strikeThrough () {\n      this.isStrikedThrough = !this.isStrikedThrough;\n      this.exec(\'strikeThrough\');\n    },\n    heading (size) {\n      this.exec(\'formatBlock\', false, size === \'Clear\' ? \'p\' : size);\n    },\n    showHeadings () {\n      this.isHeading = !this.isHeading;\n      this.showHeadingOptions = !this.showHeadingOptions;\n    },\n    alignLeft () {\n      this.isAlignedLeft = !this.isAlignedLeft;\n      this.exec(\'justifyLeft\');\n    },\n    alignCenter () {\n      this.isAlignedCenter = !this.isAlignedCenter;\n      this.exec(\'justifyCenter\');\n    },\n    alignRight () {\n      this.isAlignedRight = !this.isAlignedRight;\n      this.exec(\'justifyRight\');\n    },\n    showLinkOptions () {\n      this.showLinkForm = !this.showLinkForm;\n    },\n    createLink () {\n      let selected = document.getSelection();\n      if (selected.anchorOffset === selected.extentOffset) \n        selected = this.linkText;\n      this.exec(\'insertHTML\', false, `<a href=\'${this.linkURL}\'>${selected}</a>`);\n    },\n    orderedList () {\n      this.exec(\'insertOrderedList\');\n    },\n    insertUnorderedList () {\n      this.exec(\'insertUnorderedList\');\n    },\n    showTableOptions () {\n      if (!this.showTableForm) {\n        this.caratSelection = document.getSelection();\n        this.savedPosition = [ this.caratSelection.focusNode, this.caratSelection.focusOffset ];\n      }\n      this.showTableForm = !this.showTableForm;\n    },\n    generateTable (rows, cols) {\n      let text = \'\';\n      for (let row = 1; row <= rows; row++) {\n        text += `<tr>`;\n        for (let col = 1; col <= cols; col++) {\n          text += `<td style="border: 1px solid lightgrey; padding: 2px;"></td>`;\n        }\n        text += `</tr>`;\n      }\n      return text;\n    },\n    setupCreateTable () {\n      this.rows = this.selectedCell.rows;\n      this.cols = this.selectedCell.cols;\n      this.createTable();\n    },\n    createTable () {\n      document.getElementById(\'editor\' + this._uid).focus();\n      this.caratSelection.collapse(this.savedPosition[0], this.savedPosition[1]);\n      let table = `\n        <table width="100%" style="border-collapse: collapse; border: 1px solid lightgrey;">\n          <tbody>\n            ${this.generateTable(this.rows, this.cols)}\n          </tbody>\n        </table>\n      `;\n\n      this.exec(\'insertHTML\', false, table);\n      this.showTableForm = false;\n      this.caratSelection = null;\n      this.savedPosition = null;\n    },\n    indent () {\n      this.exec(\'indent\');\n    },\n    outdent () {\n      this.exec(\'outdent\');\n    },\n    changeSelectedCell (row, col) {\n      this.selectedCell.rows = row;\n      this.selectedCell.cols = col;\n    },\n    isHighlighted (row, col) {\n      if (this.noSelectedCell ) return false;\n      if (row <= this.selectedCell.rows && col <= this.selectedCell.cols ) return true;\n      return false;\n    },\n    exec (...args) {\n      document.execCommand(...args);\n    },\n    getValue () {\n      this.$emit(\'input\', document.getElementById(\'editor\' + this._uid).innerHTML);\n    }\n  },\n  mounted () {\n    let that = this;\n    this.$nextTick(() => {\n      document.getElementById(\'editor\' + this._uid).addEventListener(\'input\', function() {\n        that.getValue();\n      }, false);\n    });\n  },\n}\n<\/script>\n\n<style scoped>\ninput {\n  margin: 4px;\n  padding: 2px;\n  border: 1px solid lightgrey;\n}\n\ninput:focus {\n  outline: none;\n}\n\n#container {\n  border: 1px solid lightgrey;\n}\n\n#body {\n  overflow: auto;\n  display: inline-block;\n  width: 100%\n}\n\n#editor {\n  padding: 10px;\n}\n\n#toolbar {\n    border-bottom: 1px solid lightgrey;\n    background-color: #ebeef5;\n    display: flex;\n    justify-content: start;\n    padding: 0 0.6rem;\n    gap: 0.6rem;\n}\n\n#toolbar-options {\n  min-height: 29px;\n  border-bottom: 1px solid lightgrey;\n  overflow: hidden;\n}\n\n#editor:focus {\n  outline: none;\n}\n\n.toolbar-section {\n}\n\n.wysiwyg-button {\n    height: 1.618rem;\n    width: 1.618rem;\n    background-color: transparent;\n    text-align: center;\n    padding: 2px;\n    border: 0;\n    cursor: pointer;\n    transition: .5s;\n}\n\n.wysiwyg-button:hover {\n    border-radius: 3px;\n    box-shadow: inset 0 0 0 .82rem #dcdfe6;\n}\n\n/* .wysiwyg-button-active {\n  background-color: lightblue;\n} */\n\n.wysiwyg-button-loop {\n  margin-right: 4px;\n}\n.hoverTableCont {\n    width: 230px;\n    margin-right: 30px;\n    float: left;\n    padding: 15px 0px 0px 15px;\n}\n.hoverCell {\n  border: 1px solid #aaa;\n\theight: 16px;\n\twidth: 16px;\n\tmargin: 0 1px 1px 0;\n\tfloat: left;\n\tcursor: pointer;\n}\n.hoverCell:hover {\n\tbackground-color: #4b67a1 !important;\n}\n.hoverRow {\n    display: block;\n    clear: both;\n}\n.highlightCell {\n  background-color: #d1e0ff;\n}\n</style>']},media:void 0})}),Z,"data-v-402bb5ca",!1,void 0,!1,D,void 0,void 0);var Y={install:function(t){t.component("mc-wysiwyg",W)}};t.McWysiwyg=W,t.default=Y,Object.defineProperty(t,"__esModule",{value:!0})}));
